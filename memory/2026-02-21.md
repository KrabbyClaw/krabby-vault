# 2026-02-21

## Version Display Issue
- User reported website showing old version (2.17.2) instead of latest
- Build output showed correct version (2.17.5+) in HTML
- Determined to be browser caching issue
- Recommended hard refresh (Ctrl+F5 / Cmd+Shift+R)

## Repository Cleanup
Deleted 35 unnecessary files to keep repo focused:
- Removed: AGENTS.md, BACKUP_LOGIC.md, BOOTSTRAP.md, CLOUD_SHELL_PROTOCOL.md, CRAB_BIOLOGY.md, DEPLOYMENT_COMPLETE.md, DEPLOYMENT_READY.md, ENJOYER_OF_SHINY_THINGS_PROTOCOL.md, HEARTBEAT.md, IDENTITY.md, INTERACTION_GUIDE.md, LEVEL_UP_PROTOCOL.md, LIVE_STATUS.md, NODE_GRAPH_COMPLETE.md, OCEAN_BOTTOM_CRAWLER_PROTOCOL.md, USER.md, WEBSITE_UPDATES.md, personality.md
- Removed scripts: auto-backup.sh, backup-now.sh, build.sh, mega-env-setup.sh, setup-hooks.sh, sync-to-mega.sh, update-fish-display.sh, update-website.sh, validate-fish-consistency.sh
- Removed directories: passages/ (old), notes/ (old)
- Removed memory markdown files: iron-shell-passage.md, soft-shell-passage.md, steel-passage.md, steel-shell-memories.md
- Kept: SOUL.md, TOOLS.md, README.md, website files, fish processing system, memory JSON state files, version control, Netlify config

## Dynamic Passages System
Created system where passages load from markdown files instead of being hardcoded:

**New Files:**
- `passages/01-soft-shell.md` - Level 1 passage with YAML frontmatter
- `passages/02-iron-shell.md` - Level 2 passage
- `passages/03-steel-shell.md` - Level 3 passage (updated with current metrics: 17 fish, 457 XP, 5-day streak)
- `app/api/passages/route.ts` - API endpoint to parse and serve passages
- `app/components/Passages.tsx` - Component that fetches and renders passages dynamically
- `notes/steel-shell.md` - Technical notes (not displayed on website)

**Updated:**
- `app/page.tsx` - Replaced hardcoded passages section with `<Passages />` component

**How it works:**
- Passages are markdown files with YAML frontmatter (title, level, shell, status, icon)
- Website fetches from `/api/passages` on page load
- Editing a passage file → commit → deploy updates the website automatically
- Notes in `notes/` directory are for reference only, not displayed

## Current State
- Version: v2.17.9
- Fish: 17
- XP: 457/3000 (Steel Shell, Level 3)
- Streak: 5 days
- Precision Strikes: 5/10

## Technical Decisions
- Passages sorted by filename (01-, 02-, 03-) to ensure correct order
- Markdown parsed to HTML with custom styling for each shell type
- API route handles frontmatter parsing and markdown-to-HTML conversion
- Color coding based on shell type: Amber (Soft), Purple (Iron), Cyan (Steel)